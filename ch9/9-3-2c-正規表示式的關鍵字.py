import re


s='昔人已乘黃鶴去，此地空余黃鶴樓。\
黃鶴一去不復返，白雲千載空悠悠。'
print(s)

"""
1. [一去]?
'一' または '去' が0回または1回出現する箇所に一致。
空文字列も「0回出現」として一致するため、結果に含まれる。
最初に見つかった箇所で一致します。
"""
ans = re.findall('[一去]?', s)
print('[一去]?', ans)

"""
2. [一去]*
'一' または '去' が0回以上連続する箇所に一致。
出現しない部分も空文字列として返される。
"""
ans = re.findall('[一去]*', s)
print('[一去]*', ans)

"""
3. [一去]*?
'一' または '去' が0回以上連続するが、「最短一致」で可能な限り短い文字列に一致。
多くの場合、空文字列が大量に含まれる。
"""
ans = re.findall('[一去]*?', s)
print('[一去]*?', ans)

"""
4. [黃鶴樓]+
'黃', '鶴', '樓' が1回以上連続する箇所に一致。
出現する文字列がすべてまとめて抽出される。
"""
ans = re.findall('[黃鶴樓]+',s)
print('[黃鶴樓]+', ans)

"""
5. [黃鶴樓]+?
'黃', '鶴', '樓' が1回以上連続するが、「最短一致」で1文字ずつ分割される。
"""
ans = re.findall('[黃鶴樓]+?',s)
print('[黃鶴樓]+?', ans)

"""
6. [黃鶴樓]{2}
'黃', '鶴', '樓' のうち、連続する 正確に2文字 に一致。
2文字ずつの部分文字列が抽出される。
"""
ans = re.findall('[黃鶴樓]{2}',s)
print('[黃鶴樓]{2}', ans)


ans = re.findall('[黃鶴樓]{1,2}',s)
print('[黃鶴樓]{1,2}', ans)


ans = re.findall('[黃鶴樓]{1,2}?',s)
print('[黃鶴樓]{1,2}?', ans)

"""
7. 黃鶴(?=樓)
'黃鶴' の後ろに '樓' が続く場合のみ一致。
'樓' は結果に含まれないが、条件として利用される。
"""
ans = re.findall('黃鶴(?=樓)',s)
print('黃鶴(?=樓)', ans)

"""
8. 黃鶴(?!樓)
'黃鶴' の後ろに '樓' が続かない場合に一致。
'樓' がない箇所の '黃鶴' のみ抽出される。
"""
ans = re.findall('黃鶴(?!樓)',s)
print('黃鶴(?!樓)', ans)

"""
9. (?<=黃鶴)樓
'樓' の前に '黃鶴' がある場合のみ一致。
'黃鶴' の後ろにある '樓' が抽出される。
"""
ans = re.findall('(?<=黃鶴)樓',s)
print('(?<=黃鶴)樓', ans)

"""
10. (?<!黃鶴)樓
'樓' の前に '黃鶴' がない場合に一致。
この場合、一致する箇所が存在しない（すべての '樓' が '黃鶴' の後にあるため）。
"""
ans = re.findall('(?<!黃鶴)樓',s)
print('(?<!黃鶴)樓', ans)